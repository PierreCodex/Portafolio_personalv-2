---
import { projects } from "../data/data.ts";
---
<div class="w-full">
	<header class="mb-10 text-center md:text-left">
		<h2 class="text-3xl font-bold tracking-tight flex items-center gap-2 justify-center md:justify-start">
			<span class="text-[--first-color]">ðŸš€ Proyectos</span>
			<span class="bg-clip-text text-transparent bg-gradient-to-r from-[--first-color] to-[--first-color-light]">Projects</span>
		</h2>
		<p class="mt-2 text-sm text-[--text-color-light] max-w-xl mx-auto md:mx-0">
			Algunos trabajos y ejemplos destacados.
		</p>
	</header>

	<ul class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
		{projects.map((p, i) => (
			<li class={`project-card relative group rounded-2xl border border-[--border-color] dark:border-[--border-color] bg-white/70 dark:bg-white/[0.04] backdrop-blur-xl flex flex-col shadow-sm overflow-hidden transition-all duration-500 hover:shadow-[0_4px_26px_-2px_hsla(226,100%,63%,0.40)] hover:border-[--first-color]/60`} style={`--i:${i};`}>
				<figure class="project-media relative aspect-video w-full overflow-hidden">
					{p.image ? (
						<img src={p.image} alt={p.imageAlt || p.title} loading="lazy" decoding="async" class="absolute inset-0 w-full h-full object-cover transition-transform duration-[1300ms] ease-[cubic-bezier(.17,.67,.3,1)] group-hover:scale-[1.08]" />
					) : (
						<div class="project-fallback absolute inset-0 flex items-center justify-center text-[--first-color] text-sm font-semibold tracking-wide">
							<span class="opacity-75">{p.title}</span>
						</div>
					)}
					<div class="absolute inset-0 bg-gradient-to-t from-black/55 via-black/20 to-transparent opacity-80 group-hover:opacity-90 transition-opacity duration-500"></div>
					{p.highlight && (
						<span class="absolute top-3 right-3 z-10 text-[10px] font-semibold tracking-wide px-2 py-1 rounded-md bg-[--first-color]/20 backdrop-blur-sm text-[--first-color] ring-1 ring-[--first-color]/40">Destacado</span>
					)}
					<div class="absolute inset-0 pointer-events-none">
						<div class="shine absolute -inset-1 opacity-0 group-hover:opacity-100 transition-opacity duration-700 mix-blend-screen"></div>
					</div>
				</figure>
				<div class="flex flex-col gap-3 p-5 pt-4">
					<h3 class="text-lg font-semibold text-[--title-color] dark:text-[--title-color2] leading-snug">
						{p.title}
					</h3>
					<p class="text-sm text-[--text-color-light] dark:text-[--text-color] line-clamp-4 leading-relaxed">
						{p.description}
					</p>
					<div class="flex flex-wrap gap-2 mt-1">
						{p.stack.map((tech, idx) => (
							<span class="tech-chip" style={`--ti:${idx};`}>
								{tech}
							</span>
						))}
					</div>
					<div class="flex gap-4 pt-2 mt-auto">
						{p.repo && (
							<a href={p.repo} class="inline-flex items-center gap-1 text-xs font-medium text-[--first-color] hover:underline" target="_blank" rel="noopener">Repo</a>
						)}
						{p.demo && (
							<a href={p.demo} class="inline-flex items-center gap-1 text-xs font-medium text-[--first-color] hover:underline" target="_blank" rel="noopener">Demo</a>
						)}
					</div>
				</div>
				<div class="pointer-events-none absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500">
					<div class="absolute -inset-px rounded-2xl bg-gradient-to-br from-[--first-color]/25 via-transparent to-[--first-color-light]/25"></div>
				</div>
				<div class="absolute top-0 left-0 w-full h-full -z-10 opacity-[0.05] group-hover:opacity-[0.12] transition-opacity duration-500 bg-[radial-gradient(circle_at_25%_20%,var(--first-color),transparent_70%)]"></div>
			</li>
		))}
	</ul>
</div>
